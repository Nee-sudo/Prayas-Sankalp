<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Add these links in the <head> section of your HTML file -->
  <link rel="stylesheet" href="index.css">
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
  </head>
  
  
</head>
<body>

  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="logo">Logo</div>
   <a onclick="open_user_profile()"><img src="user.jpeg" alt="" class="user-image"></a>
    <a id="about" href="">About</a>
    <a id="contact" href="">Contact</a>
    <button id="login" onclick="login()" type="submit">Register now </button>
  </nav>

  <!-- user-profile-section -->
<div id="profile-section-overlay">
  <section class="user-profile">
    <div class="close-icon">
      <i class="fas fa-times" onclick="close_user_profile()"></i>
    </div>
      <h2>User Profile</h2>
      <div class="profile-image">
          <img src="user.jpeg" alt="Profile Image">
      </div>
      <div class="user-details">
          <p><strong >Name:</strong><strong id="profile-username">Name:</strong> </p>
          <p><strong >Email:</strong> <strong id="profile-email">Email:</strong></p>
          <p><strong>Location:</strong> City, Country</p>
          <!-- Add more user details as needed -->
      </div>
      <div class="profile-actions">
          <button class="edit-profile-btn">Edit Profile</button>
          <button class="change-password-btn">Change Password</button>
          <button class="logout-btn">Logout</button>
      </div>
  </section>

  <!-- Add more sections for additional user profile details or actions -->

</div>


  <!-- banner Section -->
  <header class="banner">
    <form class="search_container">
      <input class="input_btn" type="search" placeholder="Search" aria-label="Search">
      <button class="search_btn" type="submit">Search</button>
    </form>
    <div class="banner-text">
      <h1>
        Second-Hand Market
      </h1>
      <div class="intro">For all and Food</div>
      <p >Your Patform for Second-Hand Bliss and Food for Good </p>
      <button class="register_btn">Register</button>
    </div>
  </header>

  <div class="items_navbar">
    <a class="item" onclick="scroll_to('box-container')">Product  page</a>
    <a class="item" onclick="scroll_to('food-container')">Food page</a>
  </div>
  <!-- suggetion-container -->
  <div class="join-container">
    <img src="product.jpg" alt="" style="float: right;">
    <div class="join-container-text" >
      <h2>Second-hand Marketplace</h2>
      <label for="">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui quae facere repellat blanditiis dolorem? Quidem cupiditate dicta iste perspiciatis odit accusantium nostrum vel quo libero. Neque hic assumenda facere dolorem.</label>
      <button class="register_btn" onclick="open_marketpage()" >Get in Market</button>
    </div>
  </div>
  <div class="join-container">
    <img src="food.jpeg" alt="" style="float: right;">
    <div class="join-container-text" >
      <h2>Food feast</h2>
      <label for="">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui quae facere repellat blanditiis dolorem? Quidem cupiditate dicta iste perspiciatis odit accusantium nostrum vel quo libero. Neque hic assumenda facere dolorem.</label>
      <button class="register_btn">Get in Feast</button>
    </div>
  </div>
<!-- join us  -->
<div class="join-container">
  <img class="joinus" src="joinus.jpeg" alt="">
  <div class="join-container-text">
    <h2>Join us in our journey</h2>
    <label for="">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Qui quae facere repellat blanditiis dolorem? Quidem cupiditate dicta iste perspiciatis odit accusantium nostrum vel quo libero. Neque hic assumenda facere dolorem.</label>
    <button class="register_btn">Become a volunteer</button>
  </div>
</div>

<!-- be par of us -->
<div class="box-container-heading">Be part of us </div>
<div id="box-container" class="box-container">
  <div class="boxes" onclick="open_product_detail()">
    <h2>Be a giver</h2>
    <img src="doner.jpeg" alt="">
    <div class="product-description"><label for="">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsa temporibus illum nostrum dolorem eius, suscipit corporis molestias accusamus eum doloribus. Earum labore quod, voluptatem fugiat reprehenderit numquam eum facere sequi.</label>
      <button class="register_btn">Donate</button>
    </div>
  </div>
  <!-- be a receiver -->
  <div class="boxes" onclick="open_product_detail()">
    <h2>Be a receiver</h2>
    <img src="receiver.jpeg" alt="">
<div class="product-description"><label for="">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Laborum deserunt quaerat, alias magni cum in quos exercitationem iusto ea sed adipisci assumenda labore voluptates iure obcaecati ducimus. Deserunt, similique reprehenderit.</label></div>
<button class="register_btn">Go to market</button>
  </div>
</div>

<!-- help the community -->
<div id="help-community" class="help-community">
  <h2>Help the communnity </h2>
  <h2 style="color: blue;">grow</h2>
  <label for="">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nisi eligendi repudiandae et, omnis recusandae quam cumque necessitatibus ab dolore enim magnam maiores repellendus, magni ad vel sit laborum in ut?</label>


</div>



<!-- food-container -->
<div id="food-container" class="food-container" >
</div>
    
<!-- Login-overlay -->
<div id="overlay" class="signup-overlay">
  <div class="login-container">
    <form class="login-form">
        <h2>Login</h2>
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required>

        <button onclick="close_login_page()" class="login-btn" type="submit">Login</button>
    </form>
</div>
</div>


<!-- footer is there only -->
<footer class="column-footer">
  <div class="footer-column">
    <h3>Contact</h3>
    <p>Email: info@example.com</p>
    <p>Phone: +1 123 456 7890</p>
  </div>

  <div class="footer-column">
    <h3>Quick Links</h3>
    <ul>
      <li><a href="#">Home</a></li>
      <li><a href="#">About</a></li>
      <li><a href="#">Products</a></li>
      <li><a href="#">Contact</a></li>
    </ul>
  </div>

  <div class="footer-column">
    <h3>Follow Us</h3>
    <div class="social-icons">
      <a href="#" class="social-icon"><i class="fab fa-facebook"></i></a>
      <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
      <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
    </div>
  </div>
</footer>
</body>
<script>
   function login() {
      toggleOverlay();
    }
    function close_login_page() {
      toggleOverlay();
    }
    function toggleOverlay() {
    var overlay = document.getElementById("overlay");
    overlay.classList.toggle("visible");
}
function open_user_profile() {
      toggleOverlay();
    }
    function close_user_profile() {
      toggleOverlay();
    }
    function toggleOverlay() {
    var overlay = document.getElementById("profile-section-overlay");
    overlay.classList.toggle("visible");
}
  // scroller-upside
function scroll_to(containerId){
  var contentContainer = document.getElementById(containerId);
  contentContainer.scrollIntoView({behavior:"smooth", block:"start"})
}
//open-marketpage
function open_marketpage(){
  window.location.href ="mockindex.html";
}
</script>

<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>

<!-- Our script must be loaded after firebase references -->
<script>
    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCDlvliI_5vDuKaO0rSl91ruryXijgujpA",
        authDomain: "registeration-e2a50.firebaseapp.com",
        databaseURL: "https://registeration-e2a50-default-rtdb.firebaseio.com",
        projectId: "registeration-e2a50",
        storageBucket: "registeration-e2a50.appspot.com",
        messagingSenderId: "370155386398",
        appId: "1:370155386398:web:5947563e78308b55f0e00f"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const auth = firebase.auth();

    // Check for user authentication state
    auth.onAuthStateChanged((user) => {
        if (user) {
            // User is signed in, obtain the ID token
            user.getIdToken(/* forceRefresh */ true)
                .then((idToken) => {
                    // Send the ID token to your server using HTTPS
                    fetch('http://127.0.0.1:4000/user', {
                        method: 'GET',
                        headers: {
                            'Authorization': idToken
                        }
                    })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`HTTP error! Status: ${response.status}`);
                        }
                        return response.json();
                    })
                    .then(userData => {
                        // Display user data on the front end
                        document.getElementById('profile-email').textContent = userData.email || 'N/A';
                        document.getElementById('profile-username').textContent = userData.username || 'N/A';
                    })
                    .catch(error => {
                        console.error('Error fetching user data:', error);
                        document.getElementById('error-message').textContent = 'Error fetching user data';
                    });
                })
                .catch((error) => {
                    console.error('Error getting ID token:', error);
                    document.getElementById('error-message').textContent = 'Error getting ID token';
                });
        } else {
            // User is not signed in
            document.getElementById('error-message').textContent = 'User not signed in';
        }
    });
</script>
</html>
