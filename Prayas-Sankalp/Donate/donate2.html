<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <link rel="stylesheet" href="./donate1.css" />
    <link rel="stylesheet" href="./globa-donatel.css" />
    <link rel="stylesheet" href="./donate.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inria Sans:wght@700&display=swap"
    />
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-storage.js"></script>
    
  </head>
  <body>
    <div class="donate-page">
      <main class="log-in">
        <img
          class="backgroundtexture-icon"
          alt=""
          src="./public/backgroundtexture@2x.png"
        />

        <img
          class="backgroundtexture-icon1"
          alt=""
          src="./public/backgroundtexture@2x.png"
        />

        <section class="divider-top">
          <div class="navi-header">
            <img
              class="backgroundtexture-icon2"
              alt=""
              src="./public/backgroundtexture@2x.png"
            />

            <div class="food-items-switch">
              <header class="nmaviheader">
                <div class="logotitle">
                  <div class="logo">
                    <img
                      class="image-104-icon"
                      loading="eager"
                      alt=""
                      src="./public/image-104@2x.png"
                    />
                  </div>
                  <div class="text">
                    <h2 class="prayaas-sankalp">Prayaas-Sankalp</h2>
                  </div>
                </div>
                <div class="navilinls">
                  <div class="navlink">
                    <div class="home">Home</div>
                  </div>
                  <div class="donate">
                    <div class="marketplace">Marketplace</div>
                  </div>
                  <div class="navlink1">
                    <div class="donate1">Donate</div>
                  </div>
                  <div class="navlink2">
                    <div class="volunteer">Volunteer</div>
                  </div>
                  <div class="navlink3">
                    <div class="collab">Collab</div>
                  </div>
                  <div class="navlink4">
                    <div class="cart-orders">Cart & Orders</div>
                  </div>
                </div>
                <div class="profile">
                  <div class="cart-order">
                    <img
                      class="image-7-icon"
                      loading="eager"
                      alt=""
                      src="./public/image-7@2x.png"
                    />
                  </div>
                  <div class="nametitle">
                    <div class="user-co-founder">
                      <span class="user-co-founder-txt-container">
                        <p class="user">User</p>
                        <p class="co-founder">Co-Founder</p>
                      </span>
                    </div>
                  </div>
                </div>
              </header>
              <div class="hero-section">
                <div class="quotes">
                  <h1 class="donate-or-sell-container">
                    <p class="donate-or-sell-your-product">
                      <span>Donate or Sell Your </span>
                      <span class="product">Product</span>
                    </p>
                    <p class="blank-line">&nbsp;</p>
                    <p class="blank-line1">&nbsp;</p>
                    <p class="blank-line2">&nbsp;</p>
                  </h1>
                </div>
                <img
                  class="image-87-icon"
                  loading="eager"
                  alt=""
                  src="./public/image-87@2x.png"
                />
              </div>
            </div>
            <div class="logo-title-frame">
              <div class="donate-sell-frame">
                <div class="fs">
                    <div class="food">Donate</div>
                    <div class="text-frame">
                      <div class="rectangle-parent">
                        <div class="frame-child"></div>
                        <div class="divider-top-parent">
                          <div class="divider-top1">
                              <label class="switch">
                                  <input type="checkbox" checked="" id="donate-button" name="sellingType" value="food"  onchange="togglePriceInput()">
                                  <span class="slider round"></span>
                                </label>
                          </div>
                          <div class="parent-frame"></div>
                        </div>
                      </div>
                    </div>
                    <div class="items">Sell</div>
                  </div>
                <div class="fs">
                  <div class="food">Food</div>
                  <div class="text-frame">
                    <div class="rectangle-parent">
                      <div class="frame-child"></div>
                      <div class="divider-top-parent">
                        <div class="divider-top1">
                            <label class="switch">
                                <input type="checkbox"  id="food-button" name="sellingType" value="food">
                                <span class="slider round"></span>
                              </label>
                        </div>
                        <div class="parent-frame"></div>
                      </div>
                    </div>
                  </div>
                  <div class="items">Items</div>
                </div>
              </div>
            </div>
          </div>
          <div class="books">
            <img
              class="books-child"
              loading="eager"
              alt=""
              src="./public/line-6.svg"
            />
            <div class="impact-quad">
                <!-- paste your form here  -->
                <div class="item-for-sell-group">
                  <b class="name">Name</b>
                  <input class="footer-divider" id="name"  type="text" />
  
                  <div class="help-center-frame">
                    <b class="phone-no">Phone No</b>
                    <input class="help-center-frame-child" id="phoneNo" type="number" />
                  </div>
                  <div class="vector-arrow">
                    <b class="address">Address</b>
                    <input class="logo-instance" id="location" type="text" />
                  </div>
                  <div class="about-link">
                    <b class="category">Category</b>
                    <div class="wrapper-group-31">
                      <select id="category" name="category"  class="wrapper-group-31-child" required>
                        <option value="" >Select a category</option>
                        <option value="South Indian">South Indian</option>
                        <option value="North Indian">North Indian</option>
                        <option value="Chinese">Chinese</option>
                        <option value="Fast Food">Fast Food</option>
                        <option value="Beverages">Beverages</option>
                        <option value="Desserts/Sweets">Desserts/Sweets</option>
                        <option value="Books">Books and Stationary</option>
                        <option value="Clothes">Clothes</option>
                        <option value="Furniture">Furniture</option>
                        <option value="Electronics">Electronics</option>
                        <option value="Sports">Sports</option>
                        <option value="Others">Others</option>
                    </select>
  
                      <!-- <img
                        class="wrapper-group-31-item"
                        alt=""
                        src="./public/arrow-1.svg"
                      />
   -->
                      <!-- <div class="impact-container"></div> -->
                    </div>
                  </div>
                  <div class="frame-address">
                    <b class="title">Title</b>
                    <input class="frame-address-child" id="foodTitle" type="text" />
                  </div>
                  <div class="frame-address1">
                    <b class="description">Description</b>
                    <input class="frame-address-item"  id="foodDescription" type="text" />
                  </div>
                  <b class="quantity">Quantity</b>
                  <div class="frame-address2">
                    <input class="frame-address-inner" id="quantity" type="number" />
                  </div>
                  <div class="frame-address3">
                    <b class="net-weight">Net Weight</b>
                  </div>
                  <div class="frame-address4">
                    <input class="rectangle-input" id="netWeight" type="text" />
                  </div>
                  <div class="global-reach-title">
                    <div class="divider-top2">
                      <b class="price">Price</b>
                      <div class="divider-bottom">
                        <input class="buy-frame" type="number"  id="price"  placeholder="price"/>
                      </div>
                    </div>
                  </div>
                  <div class="frame-address5">
                    <b class="upload-image">Upload Image</b>
                  </div>
                  <div class="category-label-wrapper">
                    <div class="category-label">
                      <button class="rectangle-group">
                        <div class="frame-item"></div>
                        <input type="file" name="image" id="imageInput" class="choose-file">
                        <!-- <b class="choose-file">Choose File</b> -->
                      </button>
                      <div class="name-field">
                        <!-- <input class="file-chosen" type="file" id="imageInput" name="image" accept="image/*" required> -->
                        <!-- <div class="no-file-chosen">No file chosen</div> -->
                      </div>
                    </div>
                  </div>
                </div>

           
              <div class="address-global-issues">
                <div class="image">
                  <div class="label-frame">
                    <div class="pic-quotes">
                      <div class="description-field">
                        <img
                          class="image-101-icon"
                          loading="eager"
                          alt=""
                          src="./public/image-101@2x.png"
                        />
                      </div>
                      <div class="quotes-frame">
                        <div class="kailash-satyarthi-text">
                          <div class="no-one-has">
                            "No one has ever become poor by giving."
                          </div>
                          <div class="kailash-satyarthi-text1">
                            <div class="kailash-satyarthi">
                              - Kailash Satyarthi
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="pic-quotes1">
                    <div class="donate-button">
                      <h2 class="donate-money">Donate Money:</h2>
                      <input class="donate-button-child" type="text" />
                    </div>
                    <div class="donate-buttons">
                      <button class="buttons" onclick="Submitform()">
                        <div class="buttons-child"></div>
                        <b class="donate3">Donate</b>
                        <img
                          class="privacy-policy-link"
                          alt=""
                          src="./public/privacy-policy-link.svg"
                        />
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="furniture">
          <div class="furniture-child"></div>
          <div class="vertical-line">
            <input
              class="benefits-of-donation"
              placeholder="Benefits of Donation"
              type="text"
            />

            <img
              class="vertical-line-child"
              alt=""
              src="./public/line-61.svg"
            />
          </div>
          <div class="frame-parent">
            <div class="image-27-parent">
              <img
                class="image-27-icon"
                loading="eager"
                alt=""
                src="./public/image-27@2x.png"
              />

              <div class="call-to-action-frame">
                <div class="impact">Impact</div>
                <div class="make-a-lasting">
                  Make a lasting impact in your community through your generous
                  donation.
                </div>
              </div>
            </div>
            <div class="image-27-group">
              <img
                class="image-27-icon1"
                alt=""
                src="./public/image-27-1@2x.png"
              />

              <div class="growth-parent">
                <div class="growth">Growth</div>
                <div class="experience-personal-growth">
                  Experience personal growth and fulfillment through charitable
                  giving.
                </div>
              </div>
            </div>
            <div class="image-27-container">
              <img
                class="image-27-icon2"
                alt=""
                src="./public/image-27-2@2x.png"
              />

              <div class="connection-parent">
                <div class="connection">Connection</div>
                <div class="build-unity-in">
                  Build unity in your community through the collective act of
                  giving.
                </div>
              </div>
            </div>
            <div class="frame-div">
              <img
                class="image-27-icon3"
                alt=""
                src="./public/image-27-3@2x.png"
              />

              <div class="global-reach-parent">
                <div class="global-reach">Global Reach</div>
                <div class="address-global-issues1">
                  Address global issues by supporting organizations with a
                  wide-reaching impact.
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
      <div class="footer">
        <footer class="divider-top3">
          <div class="divider-top4"></div>
          <div class="frame-help-center">
            <div class="help-center">
              <div class="terms-of-service">
                <div class="help-center1">Help Center</div>
                <div class="terms-of-service1">Terms of Service</div>
                <div class="privacy-policy">Privacy Policy</div>
                <div class="about">About</div>
                <div class="log-out">Log out</div>
              </div>
              <div class="about-link1">
                <div class="copyright-text">
                  <div class="logo1">
                    <img
                      class="icon"
                      loading="eager"
                      alt=""
                      src="./public/icon2.svg"
                    />

                    <img class="nexcent-icon" loading="eager" alt="" />
                  </div>
                </div>
                <div class="footer-divider1">
                  <h2 class="prayaas-sankalp1">Prayaas-Sankalp</h2>
                  <div class="rendering-our-service">
                    Rendering our service for others
                  </div>
                </div>
                <div class="privacy-policy-text">
                  <div class="footer-logo">
                    <div class="copyright-2024">Copyright © 2024 NexusWave</div>
                    <div class="all-rights-reserved">All rights reserved</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </footer>
        <div class="divider-bottom1"></div>
      </div>
    </div>
    <!-- Add your  script here  -->
    <script>
          // Initialize Firebase with your project config
    const firebaseConfig = {
            apiKey: "AIzaSyCDlvliI_5vDuKaO0rSl91ruryXijgujpA",
            authDomain: "registeration-e2a50.firebaseapp.com",
            databaseURL: "https://registeration-e2a50-default-rtdb.firebaseio.com",
            projectId: "registeration-e2a50",
            storageBucket: "registeration-e2a50.appspot.com",
            messagingSenderId: "370155386398",
            appId: "1:370155386398:web:5947563e78308b55f0e00f"
    };

    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();
    const storage = firebase.storage();






      function Submitform(){
        
        const Name = document.getElementById('name').value;
        const PhoneNo = document.getElementById('phoneNo').value;
        const location = document.getElementById('location').value;
        const category = document.getElementById('category').value;
        const title = document.getElementById('foodTitle').value;
        const description = document.getElementById('foodDescription').value;
        const quantity = document.getElementById('quantity').value;
        const price =document.getElementById('price').value;
        const imageFile = document.getElementById("imageInput").files[0]; 

        const formdata = {
        Name: Name,
        PhoneNo: PhoneNo,
        Location: location,
        Category: category,
        Title: title,
        Description: description,
        Quantity: quantity,
        Price: price,
        ImageFile: imageFile
    };
    console.log(formdata);
    submitForm();

      }
  
      function submitForm() {
    const imageFile = document.getElementById("imageInput").files[0];

    if (imageFile) {
        // Get a reference to Firebase Storage
        // const storage = getStorage();
        // Get a reference to Firebase Storage
        const storageRef = firebase.storage().ref('images/' + imageFile.name);


        // Upload image to Firebase Storage
        const uploadTask = storageRef.put(imageFile);

        uploadTask.on(
            "state_changed",
            function(snapshot){
                var progress = (snapshot.bytesTransferref/ snapshot.totalBytes) * 100;
                // Observe state change events
            },
            (error) => {
                // Handle errors
                console.error('Error uploading image:', error);
            },
            () => {
                // Task completed successfully
                storageRef.getDownloadURL().then((downloadURL) => {
                    // Add image URL to form data
                    const formData = {
                        Name: document.getElementById('name').value,
                        PhoneNo: document.getElementById('phoneNo').value,
                        location: document.getElementById('location').value,
                        category: document.getElementById('category').value,
                        title: document.getElementById('foodTitle').value || document.getElementById('productTitle').value,
                        description: document.getElementById('foodDescription').value || document.getElementById('productDescription').value,
                        quantity: document.getElementById('quantity').value || document.getElementById('productQuantity').value,
                        netWeight: document.getElementById('netWeight').value,
                        price: document.getElementById('price').value || document.getElementById('productPrice').value,
                        // zeroPrice: document.getElementById('zeroPrice').checked || document.getElementById('zeroPriceRefurbished').checked,
                        imageURL: downloadURL, // Add image URL to form data
                    };

                    // Push data to Firebase
                    const sellingType = document.querySelector('input[name="sellingType"]:checked').value;
                    database.ref(sellingType).push(formData);

                    // Clear form fields
                    document.getElementById('name').value = '';
                    document.getElementById('phoneNo').value = '';
                    document.getElementById('location').value = '';
                    document.getElementById('category').value = '';
                    document.getElementById('foodTitle').value = '';
                    document.getElementById('foodDescription').value = '';
                    document.getElementById('quantity').value = '';
                    document.getElementById('netWeight').value = '';
                    document.getElementById('price').value = '';
                    // document.getElementById('zeroPrice').checked = false;
                    // document.getElementById('productTitle').value = '';
                    // document.getElementById('productDescription').value = '';
                    // document.getElementById('productQuantity').value = '';
                    // document.getElementById('productPrice').value = '';
                    // document.getElementById('zeroPriceRefurbished').checked = false;

                    alert('Form submitted successfully!');
                });
            }
        );
    } else {
        // Handle cases where no image is selected
        console.error('No image selected for upload.');
    }
}



    </script>
    <script>
      function togglePriceInput(){
        var donate =document.getElementById("donate-button");
        var priceInput = document.getElementById('price');
        if (donate.checked) {
            priceInput.disabled = false;
        } else {
            priceInput.disabled = true;
        }
    }
    </script>
  </body>
</html>
